<app-pdf-parser *ngIf="courseId" [id]="courseId" [color]="secondaryColor"></app-pdf-parser>
</div>
<div *ngIf="course">
  <h2>{{ course.name }}</h2>
  
  <!-- Debug information -->
  <div style="margin: 10px; padding: 10px; border: 1px solid #ccc;">
    <p>Debug: Question Sets Count: {{ course.questionSets?.length || 0 }}</p>
  </div>
  
  <!-- Check if there are question sets -->
  <div *ngIf="course.questionSets && course.questionSets.length > 0">
    <h3>Question Sets</h3>
    <div *ngFor="let questionSet of course.questionSets">
      <h4>{{ questionSet.name }}</h4>
      <p>Questions: {{ questionSet.questions?.length || 0 }}</p>
      
      <!-- Display questions if needed -->
      <div *ngIf="questionSet.questions && questionSet.questions.length > 0">
        <button (click)="toggleQuestions(questionSet)">
          {{ questionSet.showQuestions ? 'Hide Questions' : 'Show Questions' }}
        </button>
        
        <div *ngIf="questionSet.showQuestions">
          <div *ngFor="let question of questionSet.questions; let i = index">
            <p><strong>Q{{ i+1 }}:</strong> {{ question.question }}</p>
            <p><strong>Correct Answer:</strong> {{ question.correctAnswer }}</p>
            <p><strong>Wrong Answers:</strong></p>
            <ul>
              <li *ngFor="let wrongAnswer of question.wrongAnswers">
                {{ wrongAnswer }}
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Display message if no question sets -->
  <div *ngIf="!course.questionSets || course.questionSets.length === 0">
    <p>No question sets available for this course yet.</p>
  </div>
</div>

<div *ngIf="!course">
  <p>Loading course...</p>
</div>